cat test.json | jq -c '.[]' | while read item; do
    projectname=$(echo "$item" | jq -r '.projectname')
    echo "projectname: $projectname"
    mig=$(echo "$item" | jq -r '.mig')
    echo "mig: $mig"
    region=$(echo "$item" | jq -r '.region')
    echo "region: $region"
    instanceName=$(echo "$item" | jq -r '.instanceName')
    echo "instanceName: $instanceName"
    migName=$(echo "$item" | jq -r '.migName')
    echo "migName: $migName"
done


[
{
  "projectname":"hsbc-9553155-ihub-dev",
  "mig":"False",
  "region":"europe-west2",
  "instanceName":"alteryx-instance",
  "migName":"alteryx_mig_group",
  "keyName":"powershellscript"
  },
  {
  "projectname":"hsbc-9553155-ihub2-dev",
  "mig":"True",
  "region":"europe-west2",
  "instanceName":"second-instance",
  "migName":"second_group",
  "keyName":"second-script"
  },
  {
  "projectname":"hsbc-9553155-ihub3-dev",
  "mig":"False",
  "region":"europe-west2",
  "instanceName":"third-instance",
  "migName":"third_group",
  "keyName":"thirfd_powershellscript"
}
]




# Disable automatic paging file management
Set-ItemProperty -Path 'HKLM:\SYSTEM\CurrentControlSet\Control\Session Manager\Memory Management' -Name 'PagingFiles' -Value ' '

# Define your custom page file settings (adjust as needed)
$PageFileSettings = @(
    "C:\pagefile.sys 2048 4096",   # Drive C: - Initial size: 2048 MB, Maximum size: 4096 MB
    "D:\pagefile.sys 1024 2048"   # Drive D: - Initial size: 1024 MB, Maximum size: 2048 MB
    # Add more lines for additional drives as needed
)

# Set custom page file settings
$PageFileSettings | ForEach-Object {
    $pageFile = $_ -split ' '
    $pageFilePath = $pageFile[0]
    $initialSize = [int]$pageFile[1]
    $maximumSize = [int]$pageFile[2]
    Set-WmiInstance -Class Win32_PageFileSetting -Arguments @{
        Name = $pageFilePath
        InitialSize = $initialSize
        MaximumSize = $maximumSize
    }
}

# Display current page file settings
Get-WmiObject -Class Win32_PageFileUsage | Format-Table -Property Name, CurrentUsage, PeakUsage, Status
